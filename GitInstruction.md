## Инструкция по работе с git

### Что это и для чего нужна система контроля версий?
**Git** - одна из реализаций распределённых систем контроля версий.

Позволяет контролировать версионность файлов как локально, так и на удалённом сервере. Самая популярная система контроля версий.

#### Что такое система контроля версий?

<!--Это работы команды2-->

Система контроля версий это специальная программа _**Git**_, для организации совместной работы нескольких человек над одним проектом.

Данная программа позволяет организовать сохранение хронолигии изменения проекта с фиксацией этих изменений, указанием авторства изменений с возможность параллельной работы нескольких авторов одновременно с последующим слиянием результатов их работы.

Очень популярна для работы системы контроя версий платформа [Git Hub](https://github.com)

Команда 2 проходит на платформе [Geekbrains](https://gb.ru/)

![Эмблема geekbrains](https://frontend-scripts.hb.bizmrg.com/unique-hf/svg/logo.svg)


#### Для чего нужна система контроля версий

### Установка git и VSCode на ваш ПК.

#### Установка git на ваш ПК (в зависимости от системы) 
#### Установка в Linux

Если вы хотите установить Git под Linux как бинарный пакет, это можно сделать, используя обычный менеджер пакетов вашего дистрибутива. Если у вас Fedora (или другой похожий дистрибутив, такой как RHEL или CentOS), можно воспользоваться dnf:

```$ sudo dnf install git-all```

Если же у вас дистрибутив, основанный на Debian, например, Ubuntu, попробуйте apt:

```$ sudo apt install git```

Чтобы воспользоваться дополнительными возможностями, посмотрите инструкцию по установке для нескольких различных разновидностей Unix на сайте Git https://git-scm.com/download/linux.

#### Установка на Mac

Существует несколько способов установки Git на Mac. Самый простой – установить Xcode Command Line Tools. В версии Mavericks (10.9) и выше вы можете добиться этого просто первый раз выполнив 'git' в терминале.

```$ git --version``` 

Если Git не установлен, вам будет предложено его установить.

Если вы хотите получить более актуальную версию, то можете воспользоваться бинарным установщиком. Установщик Git для OS X доступен для скачивания с сайта Git https://git-scm.com/download/mac.

![Установка](Установка.jpg)

#### Установка в Windows

Для установки Git в Windows также имеется несколько способов. Официальная сборка доступна для скачивания на официальном сайте Git. Просто перейдите на страницу https://git-scm.com/download/win, и загрузка запустится автоматически. Обратите внимание, что это отдельный проект, называемый «Git для Windows»; для получения дополнительной информации о нём перейдите на https://gitforwindows.org.

Для автоматической установки вы можете использовать пакет Git Chocolatey. Обратите внимание, что пакет Chocolatey поддерживается сообществом.

#### Установка из исходников

Многие предпочитают устанавливать Git из исходников, поскольку это способ позволяет получить самую свежую версию. Обновление бинарных устновщиков, как правило, немного отстаёт, хотя в последнее время разница не столь существенна.

Если вы действительно хотите установить Git из исходников, у вас должны быть установлены следующие библиотеки, от которых он зависит: autotools, curl, zlib, openssl, expat и libiconv. Например, если в вашей системе используется dnf (Fedora) или apt-get (системы на базе Debian), вы можете использовать одну из следующих команд для установки всех зависимостей, используемых для сборки и установки бинарных файлов Git:

``` $ sudo dnf install dh-autoreconf curl-devel expat-devel gettext-devel  openssl-devel perl-devel zlib-devel``` 

```$ sudo apt-get install dh-autoreconf libcurl4-gnutls-dev libexpat1-dev gettext libz-dev libssl-dev``` 

Для того, чтобы собрать документацию в различных форматах (doc, html, info), понадобится установить дополнительные зависимости:

```$ sudo dnf install asciidoc xmlto docbook2X```

```$ sudo apt-get install asciidoc xmlto docbook2x```

Примечание

Пользователи RHEL и производных от неё (таких как CentOS или Scientific Linux) должны подключить репозиторий EPEL для корректной установки пакета docbook2X

Если вы используете систему на базе Debian (Debian/Ubuntu/Ubuntu-производные), вам так же понадобится установить пакет install-info:

```$ sudo apt-get install install-info```

Если вы используете систему на базе RPM (Fedora/RHEL/RHEL-производные), вам так же понадобится установить пакет getopt, который уже установлен в системах на базе Debian:

```$ sudo dnf install getopt```

Плюс из-за различий имён бинарных файлов вам понадобится сделать следующее:

```$ sudo ln -s /usr/bin/db2x_docbook2texi /usr/bin/docbook2x-texi```

Когда все необходимые зависимости будут установлены, вы можете пойти дальше и скачать самый свежий архив с исходниками из следующих мест: с сайта Kernel.org (https://www.kernel.org/pub/software/scm/git) или зеркала на сайте GitHub (https://github.com/git/git/releases). Конечно, немного проще скачать последнюю версию с сайта GitHub, но на странице kernel.org релизы имеют подписи, если вы хотите проверить, что скачиваете.

Затем скомпилируйте и установите Git:

```$ tar -zxf git-2.8.0.tar.gz```

```$ cd git-2.8.0```

```$ make configure```

```$ ./configure --prefix=/usr```

```$ make all doc info```

```$ sudo make install install-doc install-html install-info```

После этого вы можете получать обновления Git посредством самого Git:

$ git clone git://git.kernel.org/pub/scm/git/git.git

#### Установка VSCode на ваш ПК

### Создание и базовая работа с локальным репозиторием.
#### Что такое репозиторий и инструкция по созданию локальных репозиториев.
#### Базовая работа с локальным репозиторием

1. **git add** - добавить файл в локальный репозиторий

2. **git status** - просмотр текущих изменений

3. **git commit** - коммит в локальный репозиторий

4. **git commit -m 'initial commit'** коммит изменений в локальный репозиторий

5. **git commit -a -m 'commit all edited files'** закоммитить все измененные файлы без использования команды git add, можно сократить флаг до -am

6. **git log** - просмотр истории коммитов, с флагом --graph - в виде ветвей

7. **git log --graph --decorate --oneline** - так будет красиво и лаконично

8. **gitk** - ещё круче просмотр ветвления коммитов!!!

9. **git reflog** - просмотр истории действий

10. **git diff** - смотрим разницу между текущим состоянием и тем что в индексе

### Ветки. Локальная работа с ветками в git.
#### Что такое ветки и для чего они нужны при работе с системой контроля версий.
#### Базовая работа с ветками в git.

Так как работой над одним проектом может заниматься несколько разработчиков, то принято вносить изменения каждым из них в свою копию оригинальной версии кода. Это позволяет сохранять рабочий вариант без изменений до тех пор, пока не будет принято решение слить все версии в одну.

Каждая такая копия проекта называется веткой – она изолирована от других и имеет собственную историю.

Наличие веток позволяет обезопасить проект, сравнивать различные версии, вести параллельную разработку.

## Создание ветки
Чтобы создать новую ветку testing локально, выполним команду:

$ git branch testing
На момент выполнения команды вы находились в какой-то ветке, допустим в master. Состояние этой ветки будет скопировано в ветку testing, и в testing можно будет редактировать файлы и делать снимки, не трогая пока основную ветку master.

## Переключение на ветку
Предыдущая команда создаст ветку, но не переключит нас на нее, мы все еще останемся работать в старой ветке. Чтобы перейти на ветку testing и начать работать в ней, выполним команду:

$ git checkout testing
Имейте в виду, что GIT не позволит перейти на другую ветку, если в текущей ветке — в которой мы находимся — есть изменения, которые не зафиксированы (commit) либо не спрятаны (stash). Это нормально, ведь при смене ветке в текущем каталоге сменятся файлы,  и git-у надо знать, как быть с текущими изменениями.

## Создание и переключение единой командой
Чтобы не выполнять предыдущие команды по очереди, можно написать их одной строкой:

$ git checkout –b testing
Эта команда создаст ветку testing и сразу переключит нас на нее. Обычно именно это и требуется сделать.

##  Как переключиться на чью-то ветку из удаленного репозитория
Важно понимать, что GIT не позволит вам работать над чужой веткой. Принцип такой — вы создаете локальную копию чужой ветки, и над ней уже работаете.

Но для начала надо обновить локальный репозиторий — скопировать в него все ветки, которые есть в удаленном репозитории:

git fetch
Теперь можно посмотреть, какие ветки есть в удаленном репозитории:

git branch -v -a
Допустим, там есть ветка dev1. Переключимся на нее, создав локальную ветку с таким же именем:

git checkout -b dev1 origin/dev1
Вообще-то можно было написать проще:

git checkout dev1
Но:

Эта команда сработает только в том случае, если удаленный репозиторий у вас единственный. Если их два, например origin и upstream, то непонятно, на чью ветку переключаться.
Она создаст локальную ветку с точно таким же именем dev1. А в полной версии можно было создать локальную ветку и с другим именем mydev1:
git checkout -b mydev1 origin/dev1

## Как посмотреть ветки
Чтобы увидеть все созданные локально ветки, выполним команду:

$ git branch
Появится список веток. Текущая ветка будет выделена звездочкой.

## Как переименовать ветку
Иногда оказывается, что первоначально созданное имя ветки не самое лучшее. Его можно изменить.

Локальную

Если еще не выполнена команда push, то достаточно переименовать локальную ветку.

Чтобы переименовать локальную ветку, выполним команду:

$ git branch -m <old-name> <new-name>
Например, переименуем ветку testing в ветку test:

$ git branch –m testing test
Чтобы переименовать текущую ветку, выполним команду:

$ git branch -m <new-name>
Например, текущая ветка у нас subbranch_of_testing. Переименуем ее в subbranch:

$ git branch –m subbranch
Удаленную

Переименовать удаленную ветку (ветку в удаленном репозитории) нельзя. Можно удалить ее и отправить в репозиторий локальную ветку с новым именем:

$ git push origin :old-name new-name
здесь origin — имя удаленного репозитория (обычно удаленный репозиторий так называется),
old-name —  имя ветки локальной ветки,
new-name — новое имя ветки в удаленном репозитории.

Например, надо переименовать ветку testing в test:

$ git push origin :testing test

## Удаление локальной ветки
Чтобы удалить локальную ветку, выполните одну из команд:

$ git branch -d branch_name
$ git branch -D branch_name
Флаги:
-D сокращение для —delete –force удаляет ветку независимо от того, слиты ли ее изменения
-d сокращение для —delete
Например, удалим локальную ветку test:

$ git branch –d test
Вообще-то локальную ветку обычно удаляют после того, как слили ее (выполнили merge) в ветку master, смотрите последний раздел в статье о слиянии веток.

## Удаление ветки из удаленного репозитория

Чтобы удалить удаленную ветку, можно использовать две записи.
Либо через двоеточие, как мы уже делали при переименовании ветки:

$ git push origin :branch_name
Например, удалим ветку test из удаленного репозитория origin:

$ git push origin :test
Либо с флагом —delete, так понятнее:

$ git push origin --delete test
здесь origin — имя удаленного репозитория

## Как слить ветки

Обычно сливают некоторую ветку (например, ветку-багфикс) в ветку master. Для этого сначала перейдем в ветку master (в ту ветку, в которую вливаем изменения):

$ git checkout master
А затем выполним слияние. Допустим, в ветку master надо слить ветку test :

$ git merge test
Слияние веток не всегда происходит гладко, иногда требуется разрешить конфликты вручную. Для этого надо отредактировать конфликтые файлы, выполнить их commit.

### Работа с удаленными репозиториями.
#### Что такое удаленный репозиторий и для чего он нужен
#### Базовая работа с удаленными репозиториями GitHub

### Совместная работа над проектом (fork, pull request)
#### Как строится и для чего нужна совместная работа в системах контроля версий
#### Инструкция по созданию pull request

### Книги и полезные ссылки по изучению git.

### Альтернативные системы контроля версий.
